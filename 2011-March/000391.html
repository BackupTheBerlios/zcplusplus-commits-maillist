<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Zcplusplus-commits] r624 - in trunk: tests/zcc/decl.C99	tests/zcc.in/decl.C99 tools
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/zcplusplus-commits/2011-March/index.html" >
   <LINK REL="made" HREF="mailto:zcplusplus-commits%40lists.berlios.de?Subject=Re%3A%20%5BZcplusplus-commits%5D%20r624%20-%20in%20trunk%3A%20tests/zcc/decl.C99%0A%09tests/zcc.in/decl.C99%20tools&In-Reply-To=%3C20110326120355.679374807E1%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000390.html">
   <LINK REL="Next"  HREF="000392.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Zcplusplus-commits] r624 - in trunk: tests/zcc/decl.C99	tests/zcc.in/decl.C99 tools</H1>
    <B>zaimoni at mail.berlios.de</B> 
    <A HREF="mailto:zcplusplus-commits%40lists.berlios.de?Subject=Re%3A%20%5BZcplusplus-commits%5D%20r624%20-%20in%20trunk%3A%20tests/zcc/decl.C99%0A%09tests/zcc.in/decl.C99%20tools&In-Reply-To=%3C20110326120355.679374807E1%40sheep.berlios.de%3E"
       TITLE="[Zcplusplus-commits] r624 - in trunk: tests/zcc/decl.C99	tests/zcc.in/decl.C99 tools">zaimoni at mail.berlios.de
       </A><BR>
    <I>Sat Mar 26 13:03:55 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="000390.html">[Zcplusplus-commits] r623 - in trunk: tests/zcc/decl.C99	tests/zcc.in/decl.C99 tools
</A></li>
        <LI>Next message: <A HREF="000392.html">[Zcplusplus-commits] r625 - in trunk: tests/zcc/decl.C99 tools
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#391">[ date ]</a>
              <a href="thread.html#391">[ thread ]</a>
              <a href="subject.html#391">[ subject ]</a>
              <a href="author.html#391">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: zaimoni
Date: 2011-03-26 13:03:55 +0100 (Sat, 26 Mar 2011)
New Revision: 624

Added:
   trunk/tests/zcc.in/decl.C99/Pass_enum_def_decl.in
   trunk/tests/zcc.in/decl.C99/Pass_union_def_decl.in
   trunk/tests/zcc/decl.C99/Pass_enum_def_decl.h
   trunk/tests/zcc/decl.C99/Pass_enum_def_decl.hpp
Modified:
   trunk/tests/zcc/decl.C99/Pass_union_def_decl.h
   trunk/tests/zcc/decl.C99/Pass_union_def_decl.hpp
   trunk/tools/decl_infile.py
Log:
test parsing of def-decl union, enumerations for thread_local/_Thread_local

Added: trunk/tests/zcc/decl.C99/Pass_enum_def_decl.h
===================================================================
--- trunk/tests/zcc/decl.C99/Pass_enum_def_decl.h	                        (rev 0)
+++ trunk/tests/zcc/decl.C99/Pass_enum_def_decl.h	2011-03-26 12:03:55 UTC (rev 624)
@@ -0,0 +1,119 @@
+// decl.C99\Pass_enum_def_decl.h
+// (C)2009,2011 Kenneth Boyd, license: MIT.txt
+// using singly defined enum
+
+enum good_test {
+	x_factor = 1
+} y;
+
+// ringing the changes on extern
+extern enum good_test x1;
+extern const enum good_test x2;
+extern volatile enum good_test x3;
+extern const volatile enum good_test x4;
+extern volatile const enum good_test x5;
+
+// ringing the changes on static
+// (don't test static const -- no chance to initialize before use)
+static enum good_test x6;
+static volatile enum good_test x7;
+static const volatile enum good_test x8;
+static volatile const enum good_test x9;
+
+// extern/static not in first postion is deprecated, but legal
+const extern enum good_test x10;
+volatile extern enum good_test x11;
+const extern volatile enum good_test x12;
+const volatile extern enum good_test x13;
+volatile extern const enum good_test x14;
+volatile const extern enum good_test x15;
+volatile static enum good_test x16;
+const static volatile enum good_test x17;
+const volatile static enum good_test x18;
+volatile static const enum good_test x19;
+volatile const static enum good_test x20;
+
+// ringing the changes on _Thread_Local extern
+extern _Thread_Local enum good_test x21;
+extern _Thread_Local const enum good_test x22;
+extern _Thread_Local volatile enum good_test x23;
+extern _Thread_Local const volatile enum good_test x24;
+extern _Thread_Local volatile const enum good_test x25;
+_Thread_Local extern enum good_test x26;
+_Thread_Local extern const enum good_test x27;
+_Thread_Local extern volatile enum good_test x28;
+_Thread_Local extern const volatile enum good_test x29;
+_Thread_Local extern volatile const enum good_test x30;
+
+// ringing the changes on _Thread_Local static
+static _Thread_Local enum good_test x31;
+static _Thread_Local const enum good_test x32;
+static _Thread_Local volatile enum good_test x33;
+static _Thread_Local const volatile enum good_test x34;
+static _Thread_Local volatile const enum good_test x35;
+_Thread_Local static enum good_test x36;
+_Thread_Local static const enum good_test x37;
+_Thread_Local static volatile enum good_test x38;
+_Thread_Local static const volatile enum good_test x39;
+_Thread_Local static volatile const enum good_test x40;
+
+// _Thread_Local extern not in first two postions is deprecated, but legal
+extern const _Thread_Local enum good_test x41;
+const extern _Thread_Local enum good_test x42;
+extern volatile _Thread_Local enum good_test x43;
+volatile extern _Thread_Local enum good_test x44;
+extern const _Thread_Local volatile enum good_test x45;
+extern const volatile _Thread_Local enum good_test x46;
+const extern _Thread_Local volatile enum good_test x47;
+const extern volatile _Thread_Local enum good_test x48;
+const volatile extern _Thread_Local enum good_test x49;
+extern volatile _Thread_Local const enum good_test x50;
+extern volatile const _Thread_Local enum good_test x51;
+volatile extern _Thread_Local const enum good_test x52;
+volatile extern const _Thread_Local enum good_test x53;
+volatile const extern _Thread_Local enum good_test x54;
+_Thread_Local const extern enum good_test x55;
+const _Thread_Local extern enum good_test x56;
+_Thread_Local volatile extern enum good_test x57;
+volatile _Thread_Local extern enum good_test x58;
+_Thread_Local const extern volatile enum good_test x59;
+_Thread_Local const volatile extern enum good_test x60;
+const _Thread_Local extern volatile enum good_test x61;
+const _Thread_Local volatile extern enum good_test x62;
+const volatile _Thread_Local extern enum good_test x63;
+_Thread_Local volatile extern const enum good_test x64;
+_Thread_Local volatile const extern enum good_test x65;
+volatile _Thread_Local extern const enum good_test x66;
+volatile _Thread_Local const extern enum good_test x67;
+volatile const _Thread_Local extern enum good_test x68;
+
+// _Thread_Local static not in first two postions is deprecated, but legal
+static const _Thread_Local enum good_test x69;
+const static _Thread_Local enum good_test x70;
+static volatile _Thread_Local enum good_test x71;
+volatile static _Thread_Local enum good_test x72;
+static const _Thread_Local volatile enum good_test x73;
+static const volatile _Thread_Local enum good_test x74;
+const static _Thread_Local volatile enum good_test x75;
+const static volatile _Thread_Local enum good_test x76;
+const volatile static _Thread_Local enum good_test x77;
+static volatile _Thread_Local const enum good_test x78;
+static volatile const _Thread_Local enum good_test x79;
+volatile static _Thread_Local const enum good_test x80;
+volatile static const _Thread_Local enum good_test x81;
+volatile const static _Thread_Local enum good_test x82;
+_Thread_Local const static enum good_test x83;
+const _Thread_Local static enum good_test x84;
+_Thread_Local volatile static enum good_test x85;
+volatile _Thread_Local static enum good_test x86;
+_Thread_Local const static volatile enum good_test x87;
+_Thread_Local const volatile static enum good_test x88;
+const _Thread_Local static volatile enum good_test x89;
+const _Thread_Local volatile static enum good_test x90;
+const volatile _Thread_Local static enum good_test x91;
+_Thread_Local volatile static const enum good_test x92;
+_Thread_Local volatile const static enum good_test x93;
+volatile _Thread_Local static const enum good_test x94;
+volatile _Thread_Local const static enum good_test x95;
+volatile const _Thread_Local static enum good_test x96;
+

Added: trunk/tests/zcc/decl.C99/Pass_enum_def_decl.hpp
===================================================================
--- trunk/tests/zcc/decl.C99/Pass_enum_def_decl.hpp	                        (rev 0)
+++ trunk/tests/zcc/decl.C99/Pass_enum_def_decl.hpp	2011-03-26 12:03:55 UTC (rev 624)
@@ -0,0 +1,119 @@
+// decl.C99\Pass_enum_def_decl.hpp
+// (C)2009,2011 Kenneth Boyd, license: MIT.txt
+// using singly defined enum
+
+enum good_test {
+	x_factor = 1
+} y;
+
+// ringing the changes on extern
+extern enum good_test x1;
+extern const enum good_test x2;
+extern volatile enum good_test x3;
+extern const volatile enum good_test x4;
+extern volatile const enum good_test x5;
+
+// ringing the changes on static
+// (don't test static const -- no chance to initialize before use)
+static enum good_test x6;
+static volatile enum good_test x7;
+static const volatile enum good_test x8;
+static volatile const enum good_test x9;
+
+// extern/static not in first postion is deprecated, but legal
+const extern enum good_test x10;
+volatile extern enum good_test x11;
+const extern volatile enum good_test x12;
+const volatile extern enum good_test x13;
+volatile extern const enum good_test x14;
+volatile const extern enum good_test x15;
+volatile static enum good_test x16;
+const static volatile enum good_test x17;
+const volatile static enum good_test x18;
+volatile static const enum good_test x19;
+volatile const static enum good_test x20;
+
+// ringing the changes on thread_local extern
+extern thread_local enum good_test x21;
+extern thread_local const enum good_test x22;
+extern thread_local volatile enum good_test x23;
+extern thread_local const volatile enum good_test x24;
+extern thread_local volatile const enum good_test x25;
+thread_local extern enum good_test x26;
+thread_local extern const enum good_test x27;
+thread_local extern volatile enum good_test x28;
+thread_local extern const volatile enum good_test x29;
+thread_local extern volatile const enum good_test x30;
+
+// ringing the changes on thread_local static
+static thread_local enum good_test x31;
+static thread_local const enum good_test x32;
+static thread_local volatile enum good_test x33;
+static thread_local const volatile enum good_test x34;
+static thread_local volatile const enum good_test x35;
+thread_local static enum good_test x36;
+thread_local static const enum good_test x37;
+thread_local static volatile enum good_test x38;
+thread_local static const volatile enum good_test x39;
+thread_local static volatile const enum good_test x40;
+
+// thread_local extern not in first two postions is deprecated, but legal
+extern const thread_local enum good_test x41;
+const extern thread_local enum good_test x42;
+extern volatile thread_local enum good_test x43;
+volatile extern thread_local enum good_test x44;
+extern const thread_local volatile enum good_test x45;
+extern const volatile thread_local enum good_test x46;
+const extern thread_local volatile enum good_test x47;
+const extern volatile thread_local enum good_test x48;
+const volatile extern thread_local enum good_test x49;
+extern volatile thread_local const enum good_test x50;
+extern volatile const thread_local enum good_test x51;
+volatile extern thread_local const enum good_test x52;
+volatile extern const thread_local enum good_test x53;
+volatile const extern thread_local enum good_test x54;
+thread_local const extern enum good_test x55;
+const thread_local extern enum good_test x56;
+thread_local volatile extern enum good_test x57;
+volatile thread_local extern enum good_test x58;
+thread_local const extern volatile enum good_test x59;
+thread_local const volatile extern enum good_test x60;
+const thread_local extern volatile enum good_test x61;
+const thread_local volatile extern enum good_test x62;
+const volatile thread_local extern enum good_test x63;
+thread_local volatile extern const enum good_test x64;
+thread_local volatile const extern enum good_test x65;
+volatile thread_local extern const enum good_test x66;
+volatile thread_local const extern enum good_test x67;
+volatile const thread_local extern enum good_test x68;
+
+// thread_local static not in first two postions is deprecated, but legal
+static const thread_local enum good_test x69;
+const static thread_local enum good_test x70;
+static volatile thread_local enum good_test x71;
+volatile static thread_local enum good_test x72;
+static const thread_local volatile enum good_test x73;
+static const volatile thread_local enum good_test x74;
+const static thread_local volatile enum good_test x75;
+const static volatile thread_local enum good_test x76;
+const volatile static thread_local enum good_test x77;
+static volatile thread_local const enum good_test x78;
+static volatile const thread_local enum good_test x79;
+volatile static thread_local const enum good_test x80;
+volatile static const thread_local enum good_test x81;
+volatile const static thread_local enum good_test x82;
+thread_local const static enum good_test x83;
+const thread_local static enum good_test x84;
+thread_local volatile static enum good_test x85;
+volatile thread_local static enum good_test x86;
+thread_local const static volatile enum good_test x87;
+thread_local const volatile static enum good_test x88;
+const thread_local static volatile enum good_test x89;
+const thread_local volatile static enum good_test x90;
+const volatile thread_local static enum good_test x91;
+thread_local volatile static const enum good_test x92;
+thread_local volatile const static enum good_test x93;
+volatile thread_local static const enum good_test x94;
+volatile thread_local const static enum good_test x95;
+volatile const thread_local static enum good_test x96;
+

Modified: trunk/tests/zcc/decl.C99/Pass_union_def_decl.h
===================================================================
--- trunk/tests/zcc/decl.C99/Pass_union_def_decl.h	2011-03-24 23:53:08 UTC (rev 623)
+++ trunk/tests/zcc/decl.C99/Pass_union_def_decl.h	2011-03-26 12:03:55 UTC (rev 624)
@@ -1,20 +1,119 @@
 // decl.C99\Pass_union_def_decl.h
+// (C)2009,2011 Kenneth Boyd, license: MIT.txt
 // using singly defined union
-// (C)2010 Kenneth Boyd, license: MIT.txt
 
 union good_test {
-	int x_factor;
-} y;
+	int x_factor
+};
 
-// exercise some declarations
-union good_test x1;
-const union good_test c1;
-union good_test const c2;
-volatile union good_test v1;
-union good_test volatile v2;
-const volatile union good_test cv1;
-volatile const union good_test cv2;
-const union good_test volatile cv3;
-volatile union good_test const cv4;
-union good_test const volatile cv5;
-union good_test volatile const cv6;
+// ringing the changes on extern
+extern union good_test x1;
+extern const union good_test x2;
+extern volatile union good_test x3;
+extern const volatile union good_test x4;
+extern volatile const union good_test x5;
+
+// ringing the changes on static
+// (don't test static const -- no chance to initialize before use)
+static union good_test x6;
+static volatile union good_test x7;
+static const volatile union good_test x8;
+static volatile const union good_test x9;
+
+// extern/static not in first postion is deprecated, but legal
+const extern union good_test x10;
+volatile extern union good_test x11;
+const extern volatile union good_test x12;
+const volatile extern union good_test x13;
+volatile extern const union good_test x14;
+volatile const extern union good_test x15;
+volatile static union good_test x16;
+const static volatile union good_test x17;
+const volatile static union good_test x18;
+volatile static const union good_test x19;
+volatile const static union good_test x20;
+
+// ringing the changes on _Thread_Local extern
+extern _Thread_Local union good_test x21;
+extern _Thread_Local const union good_test x22;
+extern _Thread_Local volatile union good_test x23;
+extern _Thread_Local const volatile union good_test x24;
+extern _Thread_Local volatile const union good_test x25;
+_Thread_Local extern union good_test x26;
+_Thread_Local extern const union good_test x27;
+_Thread_Local extern volatile union good_test x28;
+_Thread_Local extern const volatile union good_test x29;
+_Thread_Local extern volatile const union good_test x30;
+
+// ringing the changes on _Thread_Local static
+static _Thread_Local union good_test x31;
+static _Thread_Local const union good_test x32;
+static _Thread_Local volatile union good_test x33;
+static _Thread_Local const volatile union good_test x34;
+static _Thread_Local volatile const union good_test x35;
+_Thread_Local static union good_test x36;
+_Thread_Local static const union good_test x37;
+_Thread_Local static volatile union good_test x38;
+_Thread_Local static const volatile union good_test x39;
+_Thread_Local static volatile const union good_test x40;
+
+// _Thread_Local extern not in first two postions is deprecated, but legal
+extern const _Thread_Local union good_test x41;
+const extern _Thread_Local union good_test x42;
+extern volatile _Thread_Local union good_test x43;
+volatile extern _Thread_Local union good_test x44;
+extern const _Thread_Local volatile union good_test x45;
+extern const volatile _Thread_Local union good_test x46;
+const extern _Thread_Local volatile union good_test x47;
+const extern volatile _Thread_Local union good_test x48;
+const volatile extern _Thread_Local union good_test x49;
+extern volatile _Thread_Local const union good_test x50;
+extern volatile const _Thread_Local union good_test x51;
+volatile extern _Thread_Local const union good_test x52;
+volatile extern const _Thread_Local union good_test x53;
+volatile const extern _Thread_Local union good_test x54;
+_Thread_Local const extern union good_test x55;
+const _Thread_Local extern union good_test x56;
+_Thread_Local volatile extern union good_test x57;
+volatile _Thread_Local extern union good_test x58;
+_Thread_Local const extern volatile union good_test x59;
+_Thread_Local const volatile extern union good_test x60;
+const _Thread_Local extern volatile union good_test x61;
+const _Thread_Local volatile extern union good_test x62;
+const volatile _Thread_Local extern union good_test x63;
+_Thread_Local volatile extern const union good_test x64;
+_Thread_Local volatile const extern union good_test x65;
+volatile _Thread_Local extern const union good_test x66;
+volatile _Thread_Local const extern union good_test x67;
+volatile const _Thread_Local extern union good_test x68;
+
+// _Thread_Local static not in first two postions is deprecated, but legal
+static const _Thread_Local union good_test x69;
+const static _Thread_Local union good_test x70;
+static volatile _Thread_Local union good_test x71;
+volatile static _Thread_Local union good_test x72;
+static const _Thread_Local volatile union good_test x73;
+static const volatile _Thread_Local union good_test x74;
+const static _Thread_Local volatile union good_test x75;
+const static volatile _Thread_Local union good_test x76;
+const volatile static _Thread_Local union good_test x77;
+static volatile _Thread_Local const union good_test x78;
+static volatile const _Thread_Local union good_test x79;
+volatile static _Thread_Local const union good_test x80;
+volatile static const _Thread_Local union good_test x81;
+volatile const static _Thread_Local union good_test x82;
+_Thread_Local const static union good_test x83;
+const _Thread_Local static union good_test x84;
+_Thread_Local volatile static union good_test x85;
+volatile _Thread_Local static union good_test x86;
+_Thread_Local const static volatile union good_test x87;
+_Thread_Local const volatile static union good_test x88;
+const _Thread_Local static volatile union good_test x89;
+const _Thread_Local volatile static union good_test x90;
+const volatile _Thread_Local static union good_test x91;
+_Thread_Local volatile static const union good_test x92;
+_Thread_Local volatile const static union good_test x93;
+volatile _Thread_Local static const union good_test x94;
+volatile _Thread_Local const static union good_test x95;
+volatile const _Thread_Local static union good_test x96;
+

Modified: trunk/tests/zcc/decl.C99/Pass_union_def_decl.hpp
===================================================================
--- trunk/tests/zcc/decl.C99/Pass_union_def_decl.hpp	2011-03-24 23:53:08 UTC (rev 623)
+++ trunk/tests/zcc/decl.C99/Pass_union_def_decl.hpp	2011-03-26 12:03:55 UTC (rev 624)
@@ -1,21 +1,119 @@
 // decl.C99\Pass_union_def_decl.hpp
+// (C)2009,2011 Kenneth Boyd, license: MIT.txt
 // using singly defined union
-// (C)2010 Kenneth Boyd, license: MIT.txt
 
 union good_test {
-	int x_factor;
-} y;
+	int x_factor
+};
 
-// exercise some declarations
-union good_test x1;
-const union good_test c1;
-union good_test const c2;
-volatile union good_test v1;
-union good_test volatile v2;
-const volatile union good_test cv1;
-volatile const union good_test cv2;
-const union good_test volatile cv3;
-volatile union good_test const cv4;
-union good_test const volatile cv5;
-union good_test volatile const cv6;
+// ringing the changes on extern
+extern union good_test x1;
+extern const union good_test x2;
+extern volatile union good_test x3;
+extern const volatile union good_test x4;
+extern volatile const union good_test x5;
 
+// ringing the changes on static
+// (don't test static const -- no chance to initialize before use)
+static union good_test x6;
+static volatile union good_test x7;
+static const volatile union good_test x8;
+static volatile const union good_test x9;
+
+// extern/static not in first postion is deprecated, but legal
+const extern union good_test x10;
+volatile extern union good_test x11;
+const extern volatile union good_test x12;
+const volatile extern union good_test x13;
+volatile extern const union good_test x14;
+volatile const extern union good_test x15;
+volatile static union good_test x16;
+const static volatile union good_test x17;
+const volatile static union good_test x18;
+volatile static const union good_test x19;
+volatile const static union good_test x20;
+
+// ringing the changes on thread_local extern
+extern thread_local union good_test x21;
+extern thread_local const union good_test x22;
+extern thread_local volatile union good_test x23;
+extern thread_local const volatile union good_test x24;
+extern thread_local volatile const union good_test x25;
+thread_local extern union good_test x26;
+thread_local extern const union good_test x27;
+thread_local extern volatile union good_test x28;
+thread_local extern const volatile union good_test x29;
+thread_local extern volatile const union good_test x30;
+
+// ringing the changes on thread_local static
+static thread_local union good_test x31;
+static thread_local const union good_test x32;
+static thread_local volatile union good_test x33;
+static thread_local const volatile union good_test x34;
+static thread_local volatile const union good_test x35;
+thread_local static union good_test x36;
+thread_local static const union good_test x37;
+thread_local static volatile union good_test x38;
+thread_local static const volatile union good_test x39;
+thread_local static volatile const union good_test x40;
+
+// thread_local extern not in first two postions is deprecated, but legal
+extern const thread_local union good_test x41;
+const extern thread_local union good_test x42;
+extern volatile thread_local union good_test x43;
+volatile extern thread_local union good_test x44;
+extern const thread_local volatile union good_test x45;
+extern const volatile thread_local union good_test x46;
+const extern thread_local volatile union good_test x47;
+const extern volatile thread_local union good_test x48;
+const volatile extern thread_local union good_test x49;
+extern volatile thread_local const union good_test x50;
+extern volatile const thread_local union good_test x51;
+volatile extern thread_local const union good_test x52;
+volatile extern const thread_local union good_test x53;
+volatile const extern thread_local union good_test x54;
+thread_local const extern union good_test x55;
+const thread_local extern union good_test x56;
+thread_local volatile extern union good_test x57;
+volatile thread_local extern union good_test x58;
+thread_local const extern volatile union good_test x59;
+thread_local const volatile extern union good_test x60;
+const thread_local extern volatile union good_test x61;
+const thread_local volatile extern union good_test x62;
+const volatile thread_local extern union good_test x63;
+thread_local volatile extern const union good_test x64;
+thread_local volatile const extern union good_test x65;
+volatile thread_local extern const union good_test x66;
+volatile thread_local const extern union good_test x67;
+volatile const thread_local extern union good_test x68;
+
+// thread_local static not in first two postions is deprecated, but legal
+static const thread_local union good_test x69;
+const static thread_local union good_test x70;
+static volatile thread_local union good_test x71;
+volatile static thread_local union good_test x72;
+static const thread_local volatile union good_test x73;
+static const volatile thread_local union good_test x74;
+const static thread_local volatile union good_test x75;
+const static volatile thread_local union good_test x76;
+const volatile static thread_local union good_test x77;
+static volatile thread_local const union good_test x78;
+static volatile const thread_local union good_test x79;
+volatile static thread_local const union good_test x80;
+volatile static const thread_local union good_test x81;
+volatile const static thread_local union good_test x82;
+thread_local const static union good_test x83;
+const thread_local static union good_test x84;
+thread_local volatile static union good_test x85;
+volatile thread_local static union good_test x86;
+thread_local const static volatile union good_test x87;
+thread_local const volatile static union good_test x88;
+const thread_local static volatile union good_test x89;
+const thread_local volatile static union good_test x90;
+const volatile thread_local static union good_test x91;
+thread_local volatile static const union good_test x92;
+thread_local volatile const static union good_test x93;
+volatile thread_local static const union good_test x94;
+volatile thread_local const static union good_test x95;
+volatile const thread_local static union good_test x96;
+

Added: trunk/tests/zcc.in/decl.C99/Pass_enum_def_decl.in
===================================================================
--- trunk/tests/zcc.in/decl.C99/Pass_enum_def_decl.in	                        (rev 0)
+++ trunk/tests/zcc.in/decl.C99/Pass_enum_def_decl.in	2011-03-26 12:03:55 UTC (rev 624)
@@ -0,0 +1,120 @@
+SUFFIXES h hpp
+OBJECTLIKE_MACRO THREAD_LOCAL _Thread_Local thread_local
+// (C)2009,2011 Kenneth Boyd, license: MIT.txt
+// using singly defined enum
+
+enum good_test {
+	x_factor = 1
+} y;
+
+// ringing the changes on extern
+extern enum good_test x1;
+extern const enum good_test x2;
+extern volatile enum good_test x3;
+extern const volatile enum good_test x4;
+extern volatile const enum good_test x5;
+
+// ringing the changes on static
+// (don't test static const -- no chance to initialize before use)
+static enum good_test x6;
+static volatile enum good_test x7;
+static const volatile enum good_test x8;
+static volatile const enum good_test x9;
+
+// extern/static not in first postion is deprecated, but legal
+const extern enum good_test x10;
+volatile extern enum good_test x11;
+const extern volatile enum good_test x12;
+const volatile extern enum good_test x13;
+volatile extern const enum good_test x14;
+volatile const extern enum good_test x15;
+volatile static enum good_test x16;
+const static volatile enum good_test x17;
+const volatile static enum good_test x18;
+volatile static const enum good_test x19;
+volatile const static enum good_test x20;
+
+// ringing the changes on THREAD_LOCAL extern
+extern THREAD_LOCAL enum good_test x21;
+extern THREAD_LOCAL const enum good_test x22;
+extern THREAD_LOCAL volatile enum good_test x23;
+extern THREAD_LOCAL const volatile enum good_test x24;
+extern THREAD_LOCAL volatile const enum good_test x25;
+THREAD_LOCAL extern enum good_test x26;
+THREAD_LOCAL extern const enum good_test x27;
+THREAD_LOCAL extern volatile enum good_test x28;
+THREAD_LOCAL extern const volatile enum good_test x29;
+THREAD_LOCAL extern volatile const enum good_test x30;
+
+// ringing the changes on THREAD_LOCAL static
+static THREAD_LOCAL enum good_test x31;
+static THREAD_LOCAL const enum good_test x32;
+static THREAD_LOCAL volatile enum good_test x33;
+static THREAD_LOCAL const volatile enum good_test x34;
+static THREAD_LOCAL volatile const enum good_test x35;
+THREAD_LOCAL static enum good_test x36;
+THREAD_LOCAL static const enum good_test x37;
+THREAD_LOCAL static volatile enum good_test x38;
+THREAD_LOCAL static const volatile enum good_test x39;
+THREAD_LOCAL static volatile const enum good_test x40;
+
+// THREAD_LOCAL extern not in first two postions is deprecated, but legal
+extern const THREAD_LOCAL enum good_test x41;
+const extern THREAD_LOCAL enum good_test x42;
+extern volatile THREAD_LOCAL enum good_test x43;
+volatile extern THREAD_LOCAL enum good_test x44;
+extern const THREAD_LOCAL volatile enum good_test x45;
+extern const volatile THREAD_LOCAL enum good_test x46;
+const extern THREAD_LOCAL volatile enum good_test x47;
+const extern volatile THREAD_LOCAL enum good_test x48;
+const volatile extern THREAD_LOCAL enum good_test x49;
+extern volatile THREAD_LOCAL const enum good_test x50;
+extern volatile const THREAD_LOCAL enum good_test x51;
+volatile extern THREAD_LOCAL const enum good_test x52;
+volatile extern const THREAD_LOCAL enum good_test x53;
+volatile const extern THREAD_LOCAL enum good_test x54;
+THREAD_LOCAL const extern enum good_test x55;
+const THREAD_LOCAL extern enum good_test x56;
+THREAD_LOCAL volatile extern enum good_test x57;
+volatile THREAD_LOCAL extern enum good_test x58;
+THREAD_LOCAL const extern volatile enum good_test x59;
+THREAD_LOCAL const volatile extern enum good_test x60;
+const THREAD_LOCAL extern volatile enum good_test x61;
+const THREAD_LOCAL volatile extern enum good_test x62;
+const volatile THREAD_LOCAL extern enum good_test x63;
+THREAD_LOCAL volatile extern const enum good_test x64;
+THREAD_LOCAL volatile const extern enum good_test x65;
+volatile THREAD_LOCAL extern const enum good_test x66;
+volatile THREAD_LOCAL const extern enum good_test x67;
+volatile const THREAD_LOCAL extern enum good_test x68;
+
+// THREAD_LOCAL static not in first two postions is deprecated, but legal
+static const THREAD_LOCAL enum good_test x69;
+const static THREAD_LOCAL enum good_test x70;
+static volatile THREAD_LOCAL enum good_test x71;
+volatile static THREAD_LOCAL enum good_test x72;
+static const THREAD_LOCAL volatile enum good_test x73;
+static const volatile THREAD_LOCAL enum good_test x74;
+const static THREAD_LOCAL volatile enum good_test x75;
+const static volatile THREAD_LOCAL enum good_test x76;
+const volatile static THREAD_LOCAL enum good_test x77;
+static volatile THREAD_LOCAL const enum good_test x78;
+static volatile const THREAD_LOCAL enum good_test x79;
+volatile static THREAD_LOCAL const enum good_test x80;
+volatile static const THREAD_LOCAL enum good_test x81;
+volatile const static THREAD_LOCAL enum good_test x82;
+THREAD_LOCAL const static enum good_test x83;
+const THREAD_LOCAL static enum good_test x84;
+THREAD_LOCAL volatile static enum good_test x85;
+volatile THREAD_LOCAL static enum good_test x86;
+THREAD_LOCAL const static volatile enum good_test x87;
+THREAD_LOCAL const volatile static enum good_test x88;
+const THREAD_LOCAL static volatile enum good_test x89;
+const THREAD_LOCAL volatile static enum good_test x90;
+const volatile THREAD_LOCAL static enum good_test x91;
+THREAD_LOCAL volatile static const enum good_test x92;
+THREAD_LOCAL volatile const static enum good_test x93;
+volatile THREAD_LOCAL static const enum good_test x94;
+volatile THREAD_LOCAL const static enum good_test x95;
+volatile const THREAD_LOCAL static enum good_test x96;
+

Added: trunk/tests/zcc.in/decl.C99/Pass_union_def_decl.in
===================================================================
--- trunk/tests/zcc.in/decl.C99/Pass_union_def_decl.in	                        (rev 0)
+++ trunk/tests/zcc.in/decl.C99/Pass_union_def_decl.in	2011-03-26 12:03:55 UTC (rev 624)
@@ -0,0 +1,120 @@
+SUFFIXES h hpp
+OBJECTLIKE_MACRO THREAD_LOCAL _Thread_Local thread_local
+// (C)2009,2011 Kenneth Boyd, license: MIT.txt
+// using singly defined union
+
+union good_test {
+	int x_factor
+};
+
+// ringing the changes on extern
+extern union good_test x1;
+extern const union good_test x2;
+extern volatile union good_test x3;
+extern const volatile union good_test x4;
+extern volatile const union good_test x5;
+
+// ringing the changes on static
+// (don't test static const -- no chance to initialize before use)
+static union good_test x6;
+static volatile union good_test x7;
+static const volatile union good_test x8;
+static volatile const union good_test x9;
+
+// extern/static not in first postion is deprecated, but legal
+const extern union good_test x10;
+volatile extern union good_test x11;
+const extern volatile union good_test x12;
+const volatile extern union good_test x13;
+volatile extern const union good_test x14;
+volatile const extern union good_test x15;
+volatile static union good_test x16;
+const static volatile union good_test x17;
+const volatile static union good_test x18;
+volatile static const union good_test x19;
+volatile const static union good_test x20;
+
+// ringing the changes on THREAD_LOCAL extern
+extern THREAD_LOCAL union good_test x21;
+extern THREAD_LOCAL const union good_test x22;
+extern THREAD_LOCAL volatile union good_test x23;
+extern THREAD_LOCAL const volatile union good_test x24;
+extern THREAD_LOCAL volatile const union good_test x25;
+THREAD_LOCAL extern union good_test x26;
+THREAD_LOCAL extern const union good_test x27;
+THREAD_LOCAL extern volatile union good_test x28;
+THREAD_LOCAL extern const volatile union good_test x29;
+THREAD_LOCAL extern volatile const union good_test x30;
+
+// ringing the changes on THREAD_LOCAL static
+static THREAD_LOCAL union good_test x31;
+static THREAD_LOCAL const union good_test x32;
+static THREAD_LOCAL volatile union good_test x33;
+static THREAD_LOCAL const volatile union good_test x34;
+static THREAD_LOCAL volatile const union good_test x35;
+THREAD_LOCAL static union good_test x36;
+THREAD_LOCAL static const union good_test x37;
+THREAD_LOCAL static volatile union good_test x38;
+THREAD_LOCAL static const volatile union good_test x39;
+THREAD_LOCAL static volatile const union good_test x40;
+
+// THREAD_LOCAL extern not in first two postions is deprecated, but legal
+extern const THREAD_LOCAL union good_test x41;
+const extern THREAD_LOCAL union good_test x42;
+extern volatile THREAD_LOCAL union good_test x43;
+volatile extern THREAD_LOCAL union good_test x44;
+extern const THREAD_LOCAL volatile union good_test x45;
+extern const volatile THREAD_LOCAL union good_test x46;
+const extern THREAD_LOCAL volatile union good_test x47;
+const extern volatile THREAD_LOCAL union good_test x48;
+const volatile extern THREAD_LOCAL union good_test x49;
+extern volatile THREAD_LOCAL const union good_test x50;
+extern volatile const THREAD_LOCAL union good_test x51;
+volatile extern THREAD_LOCAL const union good_test x52;
+volatile extern const THREAD_LOCAL union good_test x53;
+volatile const extern THREAD_LOCAL union good_test x54;
+THREAD_LOCAL const extern union good_test x55;
+const THREAD_LOCAL extern union good_test x56;
+THREAD_LOCAL volatile extern union good_test x57;
+volatile THREAD_LOCAL extern union good_test x58;
+THREAD_LOCAL const extern volatile union good_test x59;
+THREAD_LOCAL const volatile extern union good_test x60;
+const THREAD_LOCAL extern volatile union good_test x61;
+const THREAD_LOCAL volatile extern union good_test x62;
+const volatile THREAD_LOCAL extern union good_test x63;
+THREAD_LOCAL volatile extern const union good_test x64;
+THREAD_LOCAL volatile const extern union good_test x65;
+volatile THREAD_LOCAL extern const union good_test x66;
+volatile THREAD_LOCAL const extern union good_test x67;
+volatile const THREAD_LOCAL extern union good_test x68;
+
+// THREAD_LOCAL static not in first two postions is deprecated, but legal
+static const THREAD_LOCAL union good_test x69;
+const static THREAD_LOCAL union good_test x70;
+static volatile THREAD_LOCAL union good_test x71;
+volatile static THREAD_LOCAL union good_test x72;
+static const THREAD_LOCAL volatile union good_test x73;
+static const volatile THREAD_LOCAL union good_test x74;
+const static THREAD_LOCAL volatile union good_test x75;
+const static volatile THREAD_LOCAL union good_test x76;
+const volatile static THREAD_LOCAL union good_test x77;
+static volatile THREAD_LOCAL const union good_test x78;
+static volatile const THREAD_LOCAL union good_test x79;
+volatile static THREAD_LOCAL const union good_test x80;
+volatile static const THREAD_LOCAL union good_test x81;
+volatile const static THREAD_LOCAL union good_test x82;
+THREAD_LOCAL const static union good_test x83;
+const THREAD_LOCAL static union good_test x84;
+THREAD_LOCAL volatile static union good_test x85;
+volatile THREAD_LOCAL static union good_test x86;
+THREAD_LOCAL const static volatile union good_test x87;
+THREAD_LOCAL const volatile static union good_test x88;
+const THREAD_LOCAL static volatile union good_test x89;
+const THREAD_LOCAL volatile static union good_test x90;
+const volatile THREAD_LOCAL static union good_test x91;
+THREAD_LOCAL volatile static const union good_test x92;
+THREAD_LOCAL volatile const static union good_test x93;
+volatile THREAD_LOCAL static const union good_test x94;
+volatile THREAD_LOCAL const static union good_test x95;
+volatile const THREAD_LOCAL static union good_test x96;
+

Modified: trunk/tools/decl_infile.py
===================================================================
--- trunk/tools/decl_infile.py	2011-03-24 23:53:08 UTC (rev 623)
+++ trunk/tools/decl_infile.py	2011-03-26 12:03:55 UTC (rev 624)
@@ -6,7 +6,7 @@
 
 # target files
 target_files = ['Pass_enum_def.in', 'Pass_struct_def.in', 'Pass_union_def.in']
-target_files2 = ['Pass_struct_def_decl.in']
+target_files2 = ['Pass_enum_def_decl.in', 'Pass_struct_def_decl.in', 'Pass_union_def_decl.in']
 
 invariant_header_lines = [
 'SUFFIXES h hpp\n'
@@ -17,12 +17,16 @@
 context = {	'Pass_enum_def.in':'// using singly defined enum\n',
 			'Pass_struct_def.in':'// using singly defined struct\n',
 			'Pass_union_def.in':'// using singly defined union\n',
-			'Pass_struct_def_decl.in':'// using singly defined struct\n'}
+			'Pass_enum_def_decl.in':'// using singly defined enum\n',
+			'Pass_struct_def_decl.in':'// using singly defined struct\n',
+			'Pass_union_def_decl.in':'// using singly defined union\n'}
 
 global_define = {	'Pass_enum_def.in':'\nenum good_test {\n\tx_factor = 1\n};\n\n',
 					'Pass_struct_def.in':'\nstruct good_test {\n\tint x_factor\n};\n\n',
 					'Pass_union_def.in':'\nunion good_test {\n\tint x_factor\n};\n\n',
-					'Pass_struct_def_decl.in':'\nstruct good_test {\n\tint x_factor\n} y;\n\n'}
+					'Pass_enum_def_decl.in':'\nenum good_test {\n\tx_factor = 1\n} y;\n\n',
+					'Pass_struct_def_decl.in':'\nstruct good_test {\n\tint x_factor\n} y;\n\n',
+					'Pass_union_def_decl.in':'\nunion good_test {\n\tint x_factor\n};\n\n'}
 
 section_comments = ['// ringing the changes on extern\n',
 &quot;// ringing the changes on static\n// (don't test static const -- no chance to initialize before use)\n&quot;,
@@ -42,7 +46,8 @@
 	return &quot;union good_test x&quot;+i
 
 var_decl = {'Pass_enum_def.in':enum_decl, 'Pass_struct_def.in':struct_decl,
-			'Pass_union_def.in':union_decl, 'Pass_struct_def_decl.in':struct_decl}
+			'Pass_union_def.in':union_decl, 'Pass_enum_def_decl.in':enum_decl,
+			'Pass_struct_def_decl.in':struct_decl, 'Pass_union_def_decl.in':union_decl}
 
 def enum_def(i):
 	return 'enum good_test'+i+' { x_factor'+i+' = 1 } x_'+i


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000390.html">[Zcplusplus-commits] r623 - in trunk: tests/zcc/decl.C99	tests/zcc.in/decl.C99 tools
</A></li>
	<LI>Next message: <A HREF="000392.html">[Zcplusplus-commits] r625 - in trunk: tests/zcc/decl.C99 tools
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#391">[ date ]</a>
              <a href="thread.html#391">[ thread ]</a>
              <a href="subject.html#391">[ subject ]</a>
              <a href="author.html#391">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/zcplusplus-commits">More information about the Zcplusplus-commits
mailing list</a><br>
</body></html>
